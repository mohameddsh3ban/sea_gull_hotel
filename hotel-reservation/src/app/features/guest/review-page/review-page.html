<div class="min-h-screen bg-gray-50 pt-24 md:pt-32 pb-10 px-4 flex justify-center">
  <div class="w-full max-w-[520px] bg-white rounded-2xl shadow-md p-8">
    
    @if (isSubmitted()) {
      <div class="text-center py-8">
        <div class="text-5xl mb-4">ðŸ’™</div>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Thanks for your feedback!</h2>
        <p class="text-gray-600 mb-6">Your review has been recorded.</p>
        <a routerLink="/" class="text-blue-600 hover:underline font-medium">Back to Home</a>
      </div>
    } @else {
      <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Rate your experience</h2>
      
      <!-- Rating Grid -->
      <div class="grid grid-cols-5 gap-2 mb-6">
        @for (num of [1,2,3,4,5,6,7,8,9,10]; track num) {
          <button 
            type="button"
            (click)="setRating(num)"
            [class.bg-blue-600]="rating() === num"
            [class.text-white]="rating() === num"
            [class.border-blue-600]="rating() === num"
            [class.bg-white]="rating() !== num"
            [class.text-gray-700]="rating() !== num"
            class="border border-gray-300 rounded-lg py-3 font-medium transition hover:border-blue-500 hover:bg-blue-50 disabled:opacity-50"
            [disabled]="submitting()"
          >
            {{ num }}
          </button>
        }
      </div>

      <!-- Comment -->
      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-2">Comment (Optional)</label>
        <textarea 
          [ngModel]="comment()" 
          (ngModelChange)="comment.set($event)"
          rows="4" 
          placeholder="Tell us more about your dinner..."
          class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none"
          [disabled]="submitting()"
        ></textarea>
      </div>

      @if (error()) {
        <div class="bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm">
          {{ error() }}
        </div>
      }

      <button 
        (click)="submit()"
        [disabled]="submitting()"
        class="w-full bg-[#0C6DAE] hover:bg-[#0a5c94] text-white font-bold py-3 rounded-xl transition disabled:bg-gray-400 disabled:cursor-not-allowed flex justify-center items-center gap-2"
      >
        @if (submitting()) {
          <div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
          Submitting...
        } @else {
          Submit Review
        }
      </button>
    }
  </div>
</div>
